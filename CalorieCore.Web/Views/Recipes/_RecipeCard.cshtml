@model CalorieCore.DataModels.Recipe

<div class="col recipe-card-wrapper"
     data-title="@Model.Title"
     data-type="@Model.Type"
     data-difficulty="@Model.Difficulty"
     data-calories="@Model.Calories"
     data-tags="@Model.Tags">

    <div class="card h-100 glass-card recipe-hover border-0 position-relative">
        <a asp-action="Details" asp-route-id="@Model.Id" class="text-decoration-none flex-grow-1">
            <div class="card-body">
                <div class="d-flex justify-content-between align-items-start mb-2">
                    <h5 class="fw-bold text-white mb-0">@Model.Title</h5>
                    @if (!Model.IsGlobal)
                    {
                        <button type="button" onclick="event.preventDefault(); openDeleteModal(@Model.Id)" class="btn btn-sm text-danger p-0">
                            <i class="bi bi-trash"></i>
                        </button>
                    }
                </div>

                <div class="mb-3 d-flex flex-wrap gap-1">
                    @if (Model.Calories <= 400)
                    {
                        <span class="badge bg-success bg-opacity-75">Low-calorie</span>
                    }
                    else
                    {
                        <span class="badge bg-danger bg-opacity-75">High-calorie</span>
                    }
                    <span class="badge border border-secondary text-secondary">@Model.Type</span>
                    <span class="badge border border-info text-info">@Model.Difficulty</span>
                </div>

                <p class="text-warning small fw-bold mb-2">🔥 @Model.Calories kcal</p>
                <p class="text-secondary small">@Model.Description</p>
            </div>
        </a>

        <div class="card-footer border-0 bg-transparent pb-3">
            <form asp-controller="Meals" asp-action="AddFromRecipe" method="post">
                <input type="hidden" name="recipeId" value="@Model.Id" />
                <button type="submit" class="btn btn-outline-success w-100 fw-bold py-2">
                    Cook & Log Meal 🍽
                </button>
            </form>
        </div>
    </div>
</div>
@{
    ViewData["Title"] = "Home";
}

<div class="container mt-5">
    <div class="text-center mb-5">
        <h1 class="dashboard-title">Calorie Tracker Dashboard</h1>
        <p class="dashboard-subtitle">
            Track activities, manage users, and discover healthy recipes.
        </p>
    </div>

    <div class="row text-center">

        <div class="col-md-4 mb-4">
            <div class="card dashboard-card h-100 shadow-sm">
                <div class="card-body">
                    <div class="dashboard-icon">🏃</div>
                    <h5 class="card-title">Activities</h5>
                    <p class="card-text">
                        Log workouts and track calories burned.
                    </p>
                    <a asp-controller="UserActivities"
                       asp-action="Index"
                       class="btn btn-dashboard">
                        View Activities
                    </a>
                </div>
            </div>
        </div>

        <div class="col-md-4 mb-4">
            <div class="card dashboard-card h-100 shadow-sm">
                <div class="card-body">
                    <div class="dashboard-icon">🍽</div>
                    <h5 class="card-title">Meals</h5>
                    <p class="card-text">
                        Log food and track calories eaten.
                    </p>
                    <a asp-controller="Meals" asp-action="Index"
                       class="btn btn-dashboard">
                        View Meals
                    </a>
                </div>
            </div>
        </div>

        <div class="col-md-4 mb-4">
            <div class="card dashboard-card h-100 shadow-sm">
                <div class="card-body">
                    <div class="dashboard-icon">🥗</div>
                    <h5 class="card-title">Recipes</h5>
                    <p class="card-text">
                        Browse healthy and delicious meal ideas.
                    </p>
                    <a asp-controller="Recipes"
                       asp-action="Index"
                       class="btn btn-dashboard">
                        Browse Recipes
                    </a>
                </div>
            </div>
        </div>
        @if (ViewBag.Goal != null)
        {
            <div class="row mt-4">
                <div class="col-12">
                    <div class="card shadow-lg p-4 dashboard-calorie-card">

                        <h4 class="mb-2">🔥 Daily Calorie Tracker</h4>

                        <p>
                            Goal: <strong>@ViewBag.Goal kcal</strong> |
                            Consumed: <strong>@ViewBag.Consumed kcal</strong> |
                            Burned: <strong>@ViewBag.Burned kcal</strong>
                        </p>

                        <h5 class="mt-2">
                            Remaining Today:
                            <strong>@ViewBag.Remaining kcal</strong>
                        </h5>

                        @{
                            int goal = ViewBag.Goal;
                            int remaining = ViewBag.Remaining;
                            int used = goal - remaining;
                            int percent = goal == 0 ? 0 : (used * 100 / goal);
                            percent = percent < 0 ? 0 : percent > 100 ? 100 : percent;
                        }

                        <div class="progress mt-3 calorie-progress">
                            <div class="progress-bar progress-bar-striped progress-bar-animated"
                                 role="progressbar"
                                 style="width: @percent%;">
                                @percent%
                            </div>
                        </div>


                        @if (ViewBag.Remaining <= 0)
                        {
                            <div class="alert alert-success mt-3">
                                🎉 You are done for today! Great job!
                            </div>
                        }
                    </div>
                </div>
            </div>
        }

    </div>
</div>

